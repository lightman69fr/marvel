var AjaxHome=function(e){this.methode=!1,this.page=!1,this.data=!1,this.headers=!1,this.useCallback=!1,this.xhr=!1,isDefined(e)&&isObject(e)?(e.hasOwnProperty("methode")?this.methode=e.methode:this.methode="POST",e.hasOwnProperty("page")&&(e.page.length>2?this.page=e.page:(this.page=!1,alert("La page est manquante"))),e.hasOwnProperty("data")&&(this.data=e.data),e.hasOwnProperty("headers")&&(Array.isArray(e.headers)?this.headers=e.headers:this.headers=!1),e.hasOwnProperty("callback")&&(isFunction(e.callback)?this.useCallback=e.callback:this.useCallback=!1),this.methode!==!1&&this.page!==!1&&(this.xhr=this.createXHR(),this.SendPage())):alert("Vous devez définir les paramètres pour Ajax")};AjaxHome.prototype={createXHR:function(){var e=!1;return window.XDomainRequest?e=new XDomainRequest:window.XMLHttpRequest?e=new XMLHttpRequest:alert("Votre navigateur ne gère pas l'AJAX cross-domain !"),e},SendPage:function(){if(this.methode!==!1&&this.page!==!1){var e=this.methode,a=this.page;if(this.data!==!1)var s=this.generateUrlParams();else s=null;var t=this.useCallback,r=this.xhr;if(r.onload=function(){200==r.status&&(isFunction(t)?t(r.responseText):(console.log("Réponse brute :"),console.log(r.responseText)))},r.open(e,a,!0),Array.isArray(this.headers))for(var i=this.headers,n=0;n<i.length;n++){var h=i[n];this.addHeader(h)}r.send(s)}},addHeader:function(e){var a=this.xhr;isDefined(a)?isObject(e)&&a.setRequestHeader(e.titre,e.valeur):alert("xhrLink non disponible")},generateUrlParams:function(){function i(e){var a="",s=sizeOf(e),t=0;for(var r in e){var i=e[r];"function"!=typeof i&&(i.toString().length>0&&"formDocument"!=r&&(a=a+r+"="+i,s-1>t&&(a+="&")),t++)}return a}var e=this.data,a="";if(Array.isArray(e))for(var s=e.length,t=0;s>t;t++){var r=e[t];a+=i(r)}else isObject(e)&&(a=i(e));return a}};