var AjaxHome=function(e){this.methode=!1,this.page=!1,this.data=!1,this.headers=!1,this.useCallback=!1,this.xhr=!1,isDefined(e)&&isObject(e)?(e.hasOwnProperty("methode")?this.methode=e.methode:this.methode="POST",e.hasOwnProperty("page")&&(e.page.length>2?this.page=e.page:(this.page=!1,alert("La page est manquante"))),e.hasOwnProperty("data")&&(this.data=e.data),e.hasOwnProperty("headers")&&(Array.isArray(e.headers)?this.headers=e.headers:this.headers=!1),e.hasOwnProperty("callback")&&(isFunction(e.callback)?this.useCallback=e.callback:this.useCallback=!1),this.methode!==!1&&this.page!==!1&&(this.xhr=this.createXHR(),this.SendPage())):alert("Vous devez définir les paramètres pour Ajax")};AjaxHome.prototype={createXHR:function(){var e=!1;return window.XDomainRequest?e=new XDomainRequest:window.XMLHttpRequest?e=new XMLHttpRequest:alert("Votre navigateur ne gère pas l'AJAX cross-domain !"),e},SendPage:function(){if(this.methode!==!1&&this.page!==!1){var e=this.methode,a=this.page;if(this.data!==!1)var r=this.generateUrlParams();else r=null;var t=this.useCallback,s=this.xhr;if(s.onload=function(){200==s.status&&(isFunction(t)?t(s.responseText):(console.log("Réponse brute :"),console.log(s.responseText)))},s.open(e,a,!0),Array.isArray(this.headers))for(var n=this.headers,i=0;i<n.length;i++){var o=n[i];this.addHeader(o)}console.log(r),s.send(r)}},addHeader:function(e){var a=this.xhr;isDefined(a)?isObject(e)&&a.setRequestHeader(e.titre,e.valeur):alert("xhrLink non disponible")},generateUrlParams:function(){function n(e){var a="",r=sizeOf(e),t=0;for(var s in e){var n=e[s];"function"!=typeof n&&(n.toString().length>0&&"formDocument"!=s&&(a=a+s+"="+n,r-1>t&&(a+="&")),t++)}return a}var e=this.data,a="";if(Array.isArray(e))for(var r=e.length,t=0;r>t;t++){var s=e[t];a+=n(s)}else isObject(e)&&(a=n(e));return a}};