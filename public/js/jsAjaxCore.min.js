var AjaxHome=function(e){this.methode=!1,this.page=!1,this.data=!1,this.headers=!1,this.useCallback=!1,this.xhr=!1,isDefined(e)&&isObject(e)?(e.hasOwnProperty("methode")?this.methode=e.methode:this.methode="POST",e.hasOwnProperty("page")&&(e.page.length>2?this.page=e.page:(this.page=!1,alert("La page est manquante"))),e.hasOwnProperty("data")&&(this.data=e.data),e.hasOwnProperty("headers")&&(Array.isArray(e.headers)?this.headers=e.headers:this.headers=!1),e.hasOwnProperty("callback")&&(isFunction(e.callback)?this.useCallback=e.callback:this.useCallback=!1),this.methode!==!1&&this.page!==!1&&(this.xhr=this.createXHR(),this.SendPage())):alert("Vous devez définir les paramètres pour Ajax")};AjaxHome.prototype={createXHR:function(){var e=!1;return window.XDomainRequest?e=new XDomainRequest:window.XMLHttpRequest?e=new XMLHttpRequest:alert("Votre navigateur ne gère pas l'AJAX cross-domain !"),e},SendPage:function(){if(this.methode!==!1&&this.page!==!1){var e=this.methode,t=this.page;if(this.data!==!1)var r=this.generateUrlParams();else r=null;var n=this.useCallback,i=this.xhr;if(i.onload=function(){200==i.status&&(isFunction(n)?n(i.responseText):(console.log("Réponse brute :"),console.log(i.responseText)))},i.open(e,t,!0),Array.isArray(this.headers))for(var o=this.headers,s=0;s<o.length;s++){var a=o[s];this.addHeader(a)}i.send(r)}},addHeader:function(e){var t=this.xhr;isDefined(t)?isObject(e)&&t.setRequestHeader(e.titre,e.valeur):alert("xhrLink non disponible")},generateUrlParams:function(){function o(e){var t="",r=sizeOf(e),n=0;for(var i in e){var o=e[i];"function"!=typeof o&&(o.toString().length>0&&"formDocument"!=i&&(t=t+i+"="+o,r-1>n&&(t+="&")),n++)}return t}var e=this.data,t="";if(Array.isArray(e))for(var r=e.length,n=0;r>n;n++){var i=e[n];t+=o(i)}else isObject(e)&&(t=o(e));return t}};